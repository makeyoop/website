<h1>Products</h1>

brandssss

<div id="brands"></div>

namesssss
<div id="names"></div>

categoriesss
<div id="categories"></div>

product_typessss
<div id="product_types"></div>

product_colorsssss
<div id="products_colors"></div>

pricesss
<input type="text" id="myInput" onkeyup="searchPrice()" placeholder="Search by price..">
<div id="price"></div>

{{#each products}}
<a href="/products/{{this.id}}">{{this.name}}</a>
<br>
{{/each}}



<script>


    function searchPrice() {

        let price = document.getElementById("myInput").value

        if (document.getElementById("myInput").value.length === 0) {
            document.querySelector("#price").innerHTML = ""
        } else {
            axios.get(`http://localhost:3000/products/productsByPrice/${price}`)
                .then(productsByPrice => {

                    const brandsDOMEl = document.querySelector("#price")

                    productsByPrice.data.forEach(function (product) {
                        const newBrandFilterItem = document.createElement("li")
                        newBrandFilterItem.innerHTML = `<input type='checkbox'> ${product.price}`
                        brandsDOMEl.appendChild(newBrandFilterItem)
                    })
                })
        }


    }

    axios.get("http://localhost:3000/products/brands")
        .then(brandsPayload => {
            let brands = brandsPayload.data
            const brandsDOMEl = document.querySelector("#brands")

            brands.forEach(function (brand) {
                const newBrandFilterItem = document.createElement("li")
                newBrandFilterItem.innerHTML = `<input type='checkbox'> ${brand}`
                brandsDOMEl.appendChild(newBrandFilterItem)
            })
        })

    axios.get("http://localhost:3000/products/names")
        .then(namesPayload => {
            let names = namesPayload.data
            const namesDOMEl = document.querySelector("#names")

            names.forEach(function (name) {
                const newNameFilterItem = document.createElement("li")
                newNameFilterItem.innerHTML = `<input type='checkbox'> ${name}`
                namesDOMEl.appendChild(newNameFilterItem)
            })
        })

    axios.get("http://localhost:3000/products/categories")
        .then(categoriesPayload => {
            let categories = categoriesPayload.data
            const categoriesDOMEl = document.querySelector("#categories")

            categories.forEach(function (category) {
                const newcategoryFilterItem = document.createElement("li")
                newcategoryFilterItem.innerHTML = `<input type='checkbox'> ${category}`
                categoriesDOMEl.appendChild(newcategoryFilterItem)
            })
        })

    axios.get("http://localhost:3000/products/product_types")
        .then(product_typesPayload => {
            let product_types = product_typesPayload.data
            const product_typesDOMEl = document.querySelector("#product_types")

            product_types.forEach(function (product_type) {
                const newproduct_typeFilterItem = document.createElement("li")
                newproduct_typeFilterItem.innerHTML = `<input type='checkbox'> ${product_type}`
                product_typesDOMEl.appendChild(newproduct_typeFilterItem)
            })
        })

    axios.get("http://localhost:3000/products/products_colors")
        .then(products_colorsPayload => {
            let products_colors = products_colorsPayload.data
            const products_colorsDOMEl = document.querySelector("#products_colors")
            products_colors.forEach(function (product_colors) {
                console.log(product_colors)
                product_colors.forEach(function (object_hex) {
                    console.log(object_hex.hex_value)
                    const newproduct_typeFilterItem = document.createElement("li")
                    newproduct_typeFilterItem.innerHTML = `<input type='checkbox'> ${object_hex.hex_value}`
                    products_colorsDOMEl.appendChild(newproduct_typeFilterItem)
                })

            })
        })

    axios.get("http://localhost:3000/products/prices")
        .then(pricesPayload => {
            let prices = pricesPayload.data
            const pricesDOMEl = document.querySelector("#prices")

            prices.forEach(function (price) {
                const newproduct_typeFilterItem = document.createElement("li")
                newproduct_typeFilterItem.innerHTML = `<input type='checkbox'> ${price}`
                pricesDOMEl.appendChild(newproduct_typeFilterItem)
            })
        })


</script>